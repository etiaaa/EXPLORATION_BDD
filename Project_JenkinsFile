pipeline {
    agent any

    stages {
        stage('Checkout') {
            steps {
                checkout scm
            }
        }

        stage('Build') {
            steps {
                // Ajoutez ici les étapes pour construire ou valider vos fichiers SQL, PDF, PY, DOC, etc.
                echo 'Build step placeholder'
            }
        }

        stage('Build Docker Image') {
            steps {
                script {
                    // Ajoutez ici les étapes pour construire l'image Docker
                    docker.build("Project_Image-Docker:latest")
                }
            }
        }

        stage('Push Docker Image') {
            steps {
                script {
                    // Ajoutez ici les étapes pour pousser l'image Docker vers un registre
                    docker.withRegistry('https://registry.exemple.com', 'credentials-id') {
                        docker.image("Project_Image-Docker:latest").push()
                    }
                }
            }
        }

        stage('Deploy') {
            steps {
                script {
                    // Ajoutez ici les étapes pour déployer votre conteneur Docker avec vos fichiers SQL, PDF, PY, DOC, etc.
                    sh 'docker run -d -p 5432:5432 --name sqlite-container -e POSTGRES_PASSWORD=project_2024 Project_Image-Docker:latest'
                }
            }
        }
    }
}
